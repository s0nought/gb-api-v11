{
    "$schema": "https://json-schema.org/draft/2020-12/schema",
    "$id": "https://raw.githubusercontent.com/s0nought/gb-api-v11/main/schemas/util/homepage/communityspotlight.json",
    "title": "CommunitySpotlight",
    "description": "https://gamebanana.com/apiv11/Util/Homepage/CommunitySpotlight",
    "type": "object",
    "properties": {
        "_aContent": {
            "$ref": "/schemas/contentarray"
        },
        "_aStudios": {
            "$ref": "/schemas/studiosclubsarray"
        },
        "_aClubs": {
            "$ref": "/schemas/studiosclubsarray"
        }
    },
    "required": [
        "_aContent",
        "_aStudios",
        "_aClubs"
    ],
    "minProperties": 3,
    "maxProperties": 3,
    "$defs": {
        "contentarray": {
            "$schema": "https://json-schema.org/draft/2020-12/schema",
            "$id": "/schemas/contentarray",
            "title": "ContentArray",
            "description": "An array of Content submissions",
            "type": "array",
            "items": {
                "$ref": "/schemas/contentitem"
            },
            "minItems": 1,
            "uniqueItems": true
        },
        "studiosclubsarray": {
            "$schema": "https://json-schema.org/draft/2020-12/schema",
            "$id": "/schemas/studiosclubsarray",
            "title": "StudiosClubsArray",
            "description": "An array of Studios and Clubs records",
            "type": "array",
            "items": {
                "$ref": "/schemas/studioclubitem"
            },
            "minItems": 1,
            "uniqueItems": true
        },
        "submitter": {
            "$schema": "https://json-schema.org/draft/2020-12/schema",
            "$id": "/schemas/submitter",
            "title": "Submitter",
            "description": "Submitter description",
            "type": "object",
            "allOf": [
                {
                    "$ref": "https://raw.githubusercontent.com/s0nought/gb-api-v11/main/schemas/base/_asubmitter.json"
                }
            ],
            "properties": {},
            "required": [
                "_idRow",
                "_sName",
                "_bIsOnline",
                "_bHasRipe",
                "_sProfileUrl",
                "_sAvatarUrl"
            ]
        },
        "game": {
            "$schema": "https://json-schema.org/draft/2020-12/schema",
            "$id": "/schemas/game",
            "title": "Game",
            "description": "Game description",
            "type": "object",
            "allOf": [
                {
                    "$ref": "https://raw.githubusercontent.com/s0nought/gb-api-v11/main/schemas/base/_agame.json"
                }
            ],
            "properties": {
                "_idRow": {
                    "type": "number",
                    "exclusiveMinimum": 0
                }
            },
            "required": [
                "_idRow",
                "_sName",
                "_sProfileUrl",
                "_sIconUrl"
            ]
        },
        "previewmedia": {
            "$schema": "https://json-schema.org/draft/2020-12/schema",
            "$id": "/schemas/previewmedia",
            "title": "_aPreviewMedia",
            "description": "_aPreviewMedia",
            "type": "object",
            "properties": {
                "_aMetadata": {
                    "type": "object",
                    "properties": {
                        "_nMemberCount": {
                            "oneOf": [
                                {
                                    "type": "number",
                                    "exclusiveMinimum": 0,
                                    "$comment": "studio"
                                },
                                {
                                    "type": "string",
                                    "minLength": 3,
                                    "$comment": "club"
                                }
                            ]
                        },
                        "_sGamesDeveloped": {
                            "type": "string",
                            "minLength": 2,
                            "$comment": "Comma-separated list of game abbreviations"
                        }
                    },
                    "required": [
                        "_nMemberCount"
                    ]
                },
                "_aImages": {
                    "type": "array",
                    "items": {
                        "type": "object",
                        "properties": {
                            "_sType": {
                                "const": "banner"
                            },
                            "_sUrl": {
                                "type": "string",
                                "format": "uri"
                            }
                        },
                        "required": [
                            "_sType",
                            "_sUrl"
                        ]
                    },
                    "minItems": 1,
                    "maxItems": 1
                }
            },
            "required": [
                "_aMetadata",
                "_aImages"
            ]
        },
        "studioclubitem": {
            "$schema": "https://json-schema.org/draft/2020-12/schema",
            "$id": "/schemas/studioclubitem",
            "title": "StudioClubItem",
            "description": "A Studio and a Club description",
            "type": "object",
            "properties": {
                "_idRow": {
                    "type": "number",
                    "exclusiveMinimum": 0
                },
                "_sProfileUrl": {
                    "type": "string",
                    "format": "uri"
                },
                "_aPreviewMedia": {
                    "$ref": "/schemas/previewmedia"
                },
                "_tsDateAdded": {
                    "type": "number"
                },
                "_sName": {
                    "type": "string",
                    "minLength": 3
                },
                "_sType": {
                    "enum": [
                        "New",
                        "Busy"
                    ]
                }
            },
            "required": [
                "_idRow",
                "_sProfileUrl",
                "_aPreviewMedia",
                "_tsDateAdded",
                "_sName",
                "_sType"
            ]
        },
        "contentitem": {
            "$schema": "https://json-schema.org/draft/2020-12/schema",
            "$id": "/schemas/contentitem",
            "title": "ContentItem",
            "description": "A Content submission description",
            "type": "object",
            "properties": {
                "_idRow": {
                    "type": "number",
                    "exclusiveMinimum": 0
                },
                "_sModelName": {
                    "type": "string",
                    "minLength": 3
                },
                "_sProfileUrl": {
                    "type": "string",
                    "format": "uri"
                },
                "_aPreviewMedia": {
                    "type": "object",
                    "properties": {
                        "_aMetadata": {
                            "type": "object"
                        },
                        "_aImages": {
                            "type": "array"
                        }
                    },
                    "required": [
                        "_aMetadata"
                    ]
                },
                "_sInitialVisibility": {
                    "$ref": "https://raw.githubusercontent.com/s0nought/gb-api-v11/main/schemas/base/_sinitialvisibility.json"
                },
                "_sName": {
                    "type": "string",
                    "minLength": 1
                },
                "_aSubmitter": {
                    "$ref": "/schemas/submitter"
                },
                "_aGame": {
                    "$ref": "/schemas/game"
                }
            },
            "required": [
                "_idRow",
                "_sModelName",
                "_sProfileUrl",
                "_aPreviewMedia",
                "_sName",
                "_aSubmitter",
                "_aGame"
            ]
        }
    }
}